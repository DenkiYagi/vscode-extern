language: haxe
dist: xenial
haxe:
 - development

install:
 - haxelib install hxnodejs
 - haxelib dev vscode .
 - haxelib git dox https://github.com/HaxeFoundation/dox

script:
 - haxe build.hxml
 - pushd example
 - haxe build.hxml
 - popd
 - haxe doc.hxml

deploy:
  provider: pages
  skip-cleanup: true
  github-token: $GITHUB_TOKEN
  local-dir: out
  on:
    branch: master
